{% load static %}
{% include "navigator/dashboard_nav.html" %}

    <div class="container-fluid py-4">
      <div class="row mb-4">
        <div class="col-12">
          <div class="card card-body p-3">
            <form method="get" class="row g-3 align-items-end">

              <div class="col-md-3">
                <label class="form-label text-xs font-weight-bold">Search (Title/Destination/Type)</label>
                <input type="text" name="general" value="{{ request.GET.general }}" class="form-control form-control-sm" placeholder="Search keywords...">
              </div>

              <div class="col-md-2">
                <label class="form-label text-xs font-weight-bold">Duration</label>
                <input type="text" name="duration" value="{{ request.GET.duration }}" class="form-control form-control-sm" placeholder="e.g. 3 Days">
              </div>

              <div class="col-md-2">
                <label class="form-label text-xs font-weight-bold">Min Price</label>
                <input type="number" name="min_price" value="{{ request.GET.min_price }}" class="form-control form-control-sm">
              </div>
              <div class="col-md-2">
                <label class="form-label text-xs font-weight-bold">Max Price</label>
                <input type="number" name="max_price" value="{{ request.GET.max_price }}" class="form-control form-control-sm">
              </div>

              <div class="col-md-2">
                <label class="form-label text-xs font-weight-bold">Date Created</label>
                <input type="date" name="date" value="{{ request.GET.date }}" class="form-control form-control-sm">
              </div>

              <div class="col-md-2">
                  <label class="form-label text-xs font-weight-bold">Sort By</label>
                  <select name="sort" class="form-select form-select-sm">
                    <option value="-id" {% if current_sort == '-id' %}selected{% endif %}>Newest First</option>
                    <option value="id" {% if current_sort == 'id' %}selected{% endif %}>Oldest First</option>
                    <option value="price" {% if current_sort == 'price' %}selected{% endif %}>Price: Low to High</option>
                    <option value="-price" {% if current_sort == '-price' %}selected{% endif %}>Price: High to Low</option>
                    <option value="title" {% if current_sort == 'title' %}selected{% endif %}>Name: A-Z</option>
                  </select>
                </div>

              <div class="col-12 d-flex justify-content-end gap-2 mt-3">
                <a href="?" class="btn btn-outline-secondary btn-sm mb-0 px-4">
                    <i class="fas fa-undo me-1"></i> Reset
                </a>
                <button type="submit" class="btn btn-primary btn-sm mb-0 px-4">
                    <i class="fas fa-filter me-1"></i> Apply Filter
                </button>
              </div>

            </form>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-12">
          <div class="card mb-4">
              <a class="btn bg-gradient-primary mt-4 w-100" href="{% url 'add_travel_packages' %}">Add Packages</a>
            <div class="card-header pb-0">
              <h6>PACKAGES</h6>
            </div>
            <div class="card-body px-0 pt-0 pb-2">
              <div class="table-responsive p-0">
                <table class="table align-items-center mb-0">
                  <thead>
                    <tr>
                      <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">ID</th>
                      <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Title</th>
                      <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Tag Line</th>
                      <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Destination</th>
                      <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Description</th>
                      <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Duration</th>
                      <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Display Price</th>
                      <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Price</th>
                      <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Price for</th>
                      <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Type</th>
                      <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Status</th>
                      <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Slug</th>
                      <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">Date Created</th>
                      <th colspan="2" class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">Action</th>

                    </tr>
                  </thead>
                  <tbody>
                  {% for i in pac %}
                    <tr>
                      <td>

                        <p class="text-xs text-secondary mb-0">{{ forloop.counter }}</p>
                      </td>
                      <td>
                        <div class="d-flex px-2 py-1">

                          <div class="d-flex flex-column justify-content-center">
                            <h6 class="mb-0 text-sm">{{ i.title }}</h6>

                          </div>
                        </div>
                      </td>
                      <td>
                        <div class="d-flex px-2 py-1">

                          <div class="d-flex flex-column justify-content-center">
                            <h6 class="mb-0 text-sm">{{ i.tagline }}</h6>

                          </div>
                        </div>
                      </td>
                      <td>
                        <div class="d-flex px-2 py-1">

                          <div class="d-flex flex-column justify-content-center">
                            <h6 class="mb-0 text-sm">{{ i.destination }}</h6>

                          </div>
                        </div>
                      </td>
                      <td>
                        <div class="d-flex px-2 py-1">

                          <div class="d-flex flex-column justify-content-center">
                            <p class="mb-0 text-sm">{{ i.description | truncatechars:50}}</p>

                          </div>
                        </div>
                      </td>
                      <td>
                        <div class="d-flex px-2 py-1">

                          <div class="d-flex flex-column justify-content-center">
                            <p class="mb-0 text-sm">{{ i.duration}}</p>

                          </div>
                        </div>
                      </td>
                      <td>
                        <div class="d-flex px-2 py-1">

                          <div class="d-flex flex-column justify-content-center">
                            <p class="mb-0 text-sm">{{ i.display_price }}</p>

                          </div>
                        </div>
                      </td>
                      <td>
                        <div class="d-flex px-2 py-1">

                          <div class="d-flex flex-column justify-content-center">
                            <p class="mb-0 text-sm">{{ i.price}}</p>

                          </div>
                        </div>
                      </td>
                      <td>
                        <div class="d-flex px-2 py-1">

                          <div class="d-flex flex-column justify-content-center">
                            <p class="mb-0 text-sm">{{ i.price_for}}</p>

                          </div>
                        </div>
                      </td>
                      <td>
                        <div class="d-flex px-2 py-1">

                          <div class="d-flex flex-column justify-content-center">
                            <p class="mb-0 text-sm">{{ i.type}}</p>

                          </div>
                        </div>
                      </td>
                      <td class="align-middle text-center">
                          {% if i.status %}
                        <span class="badge badge-sm bg-gradient-success">{{ i.status }}</span>
                          {% else %}
                        <span class="badge badge-sm bg-gradient-secondary">Inactive</span>
                          {% endif %}
                      </td>
                      <td>
                        <div class="d-flex px-2 py-1">

                          <div class="d-flex flex-column justify-content-center">
                            <p class="mb-0 text-sm">{{ i.slug }}</p>

                          </div>
                        </div>
                      </td>
                      <td>
                        <div class="d-flex px-2 py-1">

                          <div class="d-flex flex-column justify-content-center">
                            <p class="mb-0 text-sm">{{ i.date }}</p>

                          </div>
                        </div>
                      </td>

                      <td class="align-middle">
                        <a href="{% url 'edit_travel_packages' i.id %}" class="text-secondary font-weight-bold text-xs" data-toggle="tooltip" data-original-title="Edit category">
                          Edit
                        </a>
                      </td>
                      <td class="align-middle">
                        <a href="{% url 'delete_travel_packages' i.id %}" class="text-secondary font-weight-bold text-xs" data-toggle="tooltip" data-original-title="Delete category">
                          Delete
                        </a>
                      </td>
                    </tr>
                  {% endfor %}

                  </tbody>
                </table>
                    <div class="d-flex justify-content-center p-3">
                      <nav aria-label="Page navigation">
                        <ul class="pagination pagination-primary mb-0">

                          {% if pac.has_previous %}
                            <li class="page-item">
                              <a class="page-link" href="?page=1&{{ fixed_query_params }}" title="First Page">
                                <i class="fas fa-angle-double-left"></i>
                              </a>
                            </li>
                            <li class="page-item">
                              <a class="page-link" href="?page={{ pac.previous_page_number }}&{{ fixed_query_params }}">
                                <i class="fas fa-angle-left"></i>
                              </a>
                            </li>
                          {% endif %}

                          <li class="page-item active">
                            <button class="page-link text-white border-0" disabled>
                              {{ pac.number }}
                            </button>
                          </li>

                          {% if pac.has_next %}
                            <li class="page-item">
                              <a class="page-link" href="?page={{ pac.next_page_number }}&{{ fixed_query_params }}">
                                <i class="fas fa-angle-right"></i>
                              </a>
                            </li>
                            <li class="page-item">
                              <a class="page-link" href="?page={{ pac.paginator.num_pages }}&{{ fixed_query_params }}" title="Last Page">
                                <i class="fas fa-angle-double-right"></i>
                              </a>
                            </li>
                          {% endif %}

                        </ul>
                      </nav>
                    </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>


  <!--   Core JS Files   -->
  <script src="{% static 'navigator/assets/js/core/popper.min.js' %}"></script>
  <script src="{% static 'navigator/assets/js/core/bootstrap.min.js' %}"></script>
  <script src="{% static 'navigator/assets/js/plugins/perfect-scrollbar.min.js' %}"></script>
  <script src="{% static 'navigator/assets/js/plugins/smooth-scrollbar.min.js' %}"></script>

  <!-- Github buttons -->
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <!-- Control Center for Soft Dashboard: parallax effects, scripts for the example pages etc -->
  <script src="{% static 'navigator/assets/js/soft-ui-dashboard.min.js?v=1.0.3' %}"></script>

</body>
</html>